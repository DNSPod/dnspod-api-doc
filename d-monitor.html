<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>D监控相关 &mdash; DNSPod API Doc 1.0.0 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="DNSPod API Doc 1.0.0 documentation" href="index.html" />
    <link rel="next" title="自定义监控相关" href="custom-monitoring.html" />
    <link rel="prev" title="批量操作相关" href="batch.html" /> 
  </head>
  <body>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="d">
<h1>D监控相关<a class="headerlink" href="#d" title="Permalink to this headline">¶</a></h1>
<div class="section" id="a">
<span id="monitor-listsubdomain"></span><h2>列出包含A记录的子域名<a class="headerlink" href="#a" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>接口地址：</dt>
<dd><ul class="first last simple">
<li>&nbsp;<a class="reference external" href="https://dnsapi.cn/Monitor.Listsubdomain">https://dnsapi.cn/Monitor.Listsubdomain</a></li>
</ul>
</dd>
<dt>HTTP请求方式：</dt>
<dd><ul class="first last simple">
<li>POST</li>
</ul>
</dd>
<dt>请求参数：</dt>
<dd><ul class="first last simple">
<li>公共参数</li>
<li>domain或domain_id, 必选</li>
</ul>
</dd>
<dt>响应代码：</dt>
<dd><ul class="first last simple">
<li>共通返回</li>
<li>6 域名不存在</li>
<li>7 域名编号错误</li>
<li>8 此域名没有任何记录</li>
</ul>
</dd>
</dl>
<p>示例:</p>
<div class="highlight-python"><div class="highlight"><pre>curl -X POST https://dnsapi.cn/Monitor.Listsubdomain -d &#39;login_token=LOGIN_TOKEN&amp;format=json&amp;domain_id=2317346&#39;
</pre></div>
</div>
<p>返回参考：</p>
<blockquote>
<div><ul>
<li><p class="first">JSON:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span>
    <span class="s">&quot;status&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">&quot;code&quot;</span><span class="p">:</span> <span class="s">&quot;1&quot;</span><span class="p">,</span>
        <span class="s">&quot;message&quot;</span><span class="p">:</span> <span class="s">&quot;Action completed successful&quot;</span><span class="p">,</span>
        <span class="s">&quot;created_at&quot;</span><span class="p">:</span> <span class="s">&quot;2012-11-24 20:14:31&quot;</span>
    <span class="p">},</span>
    <span class="s">&quot;domain&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">&quot;id&quot;</span><span class="p">:</span> <span class="mi">2317346</span><span class="p">,</span>
        <span class="s">&quot;name&quot;</span><span class="p">:</span> <span class="s">&quot;testapi.com&quot;</span><span class="p">,</span>
        <span class="s">&quot;punycode&quot;</span><span class="p">:</span> <span class="s">&quot;testapi.com&quot;</span><span class="p">,</span>
        <span class="s">&quot;grade&quot;</span><span class="p">:</span> <span class="s">&quot;D_Plus&quot;</span><span class="p">,</span>
        <span class="s">&quot;owner&quot;</span><span class="p">:</span> <span class="s">&quot;api@dnspod.com&quot;</span>
    <span class="p">},</span>
    <span class="s">&quot;subdomain&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s">&quot;@&quot;</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="monitor-listsubvalue">
<span id="id1"></span><h2>列出子域名的A记录<a class="headerlink" href="#monitor-listsubvalue" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>接口地址：</dt>
<dd><ul class="first last simple">
<li>&nbsp;<a class="reference external" href="https://dnsapi.cn/Monitor.Listsubvalue">https://dnsapi.cn/Monitor.Listsubvalue</a></li>
</ul>
</dd>
<dt>HTTP请求方式：</dt>
<dd><ul class="first last simple">
<li>POST</li>
</ul>
</dd>
<dt>请求参数：</dt>
<dd><ul class="first last simple">
<li>公共参数</li>
<li>domain或domain_id, 必选</li>
<li>subdomain 子域名，必选</li>
</ul>
</dd>
<dt>响应代码：</dt>
<dd><ul class="first last simple">
<li>共通返回</li>
<li>6 域名不存在</li>
<li>7 域名编号错误</li>
</ul>
</dd>
</dl>
<p>示例:</p>
<div class="highlight-python"><div class="highlight"><pre>curl -X POST https://dnsapi.cn/Monitor.Listsubvalue -d &#39;login_token=LOGIN_TOKEN&amp;format=json&amp;domain_id=2317346&amp;subdomain=@&#39;
</pre></div>
</div>
<p>返回参考：</p>
<blockquote>
<div><ul>
<li><p class="first">JSON:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span>
    <span class="s">&quot;status&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">&quot;code&quot;</span><span class="p">:</span> <span class="s">&quot;1&quot;</span><span class="p">,</span>
        <span class="s">&quot;message&quot;</span><span class="p">:</span> <span class="s">&quot;Action completed successful&quot;</span><span class="p">,</span>
        <span class="s">&quot;created_at&quot;</span><span class="p">:</span> <span class="s">&quot;2012-11-24 20:19:05&quot;</span>
    <span class="p">},</span>
    <span class="s">&quot;domain&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">&quot;id&quot;</span><span class="p">:</span> <span class="mi">2317346</span><span class="p">,</span>
        <span class="s">&quot;name&quot;</span><span class="p">:</span> <span class="s">&quot;testapi.com&quot;</span><span class="p">,</span>
        <span class="s">&quot;punycode&quot;</span><span class="p">:</span> <span class="s">&quot;testapi.com&quot;</span><span class="p">,</span>
        <span class="s">&quot;grade&quot;</span><span class="p">:</span> <span class="s">&quot;D_Plus&quot;</span>
    <span class="p">},</span>
    <span class="s">&quot;points&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">&quot;max&quot;</span><span class="p">:</span> <span class="mi">999</span><span class="p">,</span>
        <span class="s">&quot;list&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s">&quot;ctc&quot;</span><span class="p">:</span> <span class="s">&quot;电信&quot;</span><span class="p">,</span>
            <span class="s">&quot;cuc&quot;</span><span class="p">:</span> <span class="s">&quot;联通&quot;</span><span class="p">,</span>
            <span class="s">&quot;cmc&quot;</span><span class="p">:</span> <span class="s">&quot;移动&quot;</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="s">&quot;records&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s">&quot;id&quot;</span><span class="p">:</span> <span class="s">&quot;16909160&quot;</span><span class="p">,</span>
            <span class="s">&quot;area&quot;</span><span class="p">:</span> <span class="s">&quot;默认&quot;</span><span class="p">,</span>
            <span class="s">&quot;value&quot;</span><span class="p">:</span> <span class="s">&quot;119.180.24.194&quot;</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="monitor-list">
<span id="id2"></span><h2>监控列表<a class="headerlink" href="#monitor-list" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>接口地址：</dt>
<dd><ul class="first last simple">
<li>&nbsp;<a class="reference external" href="https://dnsapi.cn/Monitor.List">https://dnsapi.cn/Monitor.List</a></li>
</ul>
</dd>
<dt>HTTP请求方式：</dt>
<dd><ul class="first last simple">
<li>POST</li>
</ul>
</dd>
<dt>请求参数：</dt>
<dd><ul class="first last simple">
<li>公共参数</li>
</ul>
</dd>
<dt>响应代码：</dt>
<dd><ul class="first last simple">
<li>共通返回</li>
</ul>
</dd>
</dl>
<p>示例:</p>
<div class="highlight-python"><div class="highlight"><pre>curl -X POST https://dnsapi.cn/Monitor.List -d &#39;login_token=LOGIN_TOKEN&amp;format=json&amp;domain_id=2317346&#39;
</pre></div>
</div>
<p>返回参考：</p>
<blockquote>
<div><ul>
<li><p class="first">JSON:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span>
    <span class="s">&quot;status&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">&quot;code&quot;</span><span class="p">:</span> <span class="s">&quot;1&quot;</span><span class="p">,</span>
        <span class="s">&quot;message&quot;</span><span class="p">:</span> <span class="s">&quot;Action completed successful&quot;</span><span class="p">,</span>
        <span class="s">&quot;created_at&quot;</span><span class="p">:</span> <span class="s">&quot;2012-11-24 20:48:02&quot;</span>
    <span class="p">},</span>
    <span class="s">&quot;info&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">&quot;total_count&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s">&quot;down_count&quot;</span><span class="p">:</span> <span class="mi">0</span>
    <span class="p">},</span>
    <span class="s">&quot;monitors&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s">&quot;monitor_id&quot;</span><span class="p">:</span> <span class="s">&quot;281ecb9e-3635-11e2-bab7-0819a6248970&quot;</span><span class="p">,</span>
            <span class="s">&quot;domain&quot;</span><span class="p">:</span> <span class="s">&quot;testapi.com&quot;</span><span class="p">,</span>
            <span class="s">&quot;domain_id&quot;</span><span class="p">:</span> <span class="s">&quot;2317346&quot;</span><span class="p">,</span>
            <span class="s">&quot;domain_grade&quot;</span><span class="p">:</span> <span class="s">&quot;D_Plus&quot;</span><span class="p">,</span>
            <span class="s">&quot;record_id&quot;</span><span class="p">:</span> <span class="s">&quot;16909160&quot;</span><span class="p">,</span>
            <span class="s">&quot;sub_domain&quot;</span><span class="p">:</span> <span class="s">&quot;@&quot;</span><span class="p">,</span>
            <span class="s">&quot;record_line&quot;</span><span class="p">:</span> <span class="s">&quot;默认&quot;</span><span class="p">,</span>
            <span class="s">&quot;ip&quot;</span><span class="p">:</span> <span class="s">&quot;119.180.24.194&quot;</span><span class="p">,</span>
            <span class="s">&quot;now_ip&quot;</span><span class="p">:</span> <span class="s">&quot;119.180.24.194&quot;</span><span class="p">,</span>
            <span class="s">&quot;host&quot;</span><span class="p">:</span> <span class="s">&quot;testapi.com&quot;</span><span class="p">,</span>
            <span class="s">&quot;port&quot;</span><span class="p">:</span> <span class="s">&quot;80&quot;</span><span class="p">,</span>
            <span class="s">&quot;monitor_type&quot;</span><span class="p">:</span> <span class="s">&quot;http&quot;</span><span class="p">,</span>
            <span class="s">&quot;monitor_path&quot;</span><span class="p">:</span> <span class="s">&quot;/&quot;</span><span class="p">,</span>
            <span class="s">&quot;monitor_interval&quot;</span><span class="p">:</span> <span class="s">&quot;360&quot;</span><span class="p">,</span>
            <span class="s">&quot;points&quot;</span><span class="p">:</span> <span class="s">&quot;ctc,cuc,cmc&quot;</span><span class="p">,</span>
            <span class="s">&quot;bak_ip&quot;</span><span class="p">:</span> <span class="s">&quot;auto&quot;</span><span class="p">,</span>
            <span class="s">&quot;status&quot;</span><span class="p">:</span> <span class="s">&quot;Ok&quot;</span><span class="p">,</span>
            <span class="s">&quot;status_code&quot;</span><span class="p">:</span> <span class="s">&quot;200&quot;</span><span class="p">,</span>
            <span class="s">&quot;sms_notice&quot;</span><span class="p">:</span> <span class="s">&quot;me&quot;</span><span class="p">,</span>
            <span class="s">&quot;email_notice&quot;</span><span class="p">:</span> <span class="s">&quot;me&quot;</span><span class="p">,</span>
            <span class="s">&quot;less_notice&quot;</span><span class="p">:</span> <span class="s">&quot;yes&quot;</span><span class="p">,</span>
            <span class="s">&quot;callback_url&quot;</span><span class="p">:</span> <span class="s">&quot;&quot;</span><span class="p">,</span>
            <span class="s">&quot;callback_key&quot;</span><span class="p">:</span> <span class="s">&quot;&quot;</span><span class="p">,</span>
            <span class="s">&quot;monitor_status&quot;</span><span class="p">:</span> <span class="s">&quot;enabled&quot;</span><span class="p">,</span>
            <span class="s">&quot;created_on&quot;</span><span class="p">:</span> <span class="s">&quot;2012-11-24 20:47:51&quot;</span><span class="p">,</span>
            <span class="s">&quot;updated_on&quot;</span><span class="p">:</span> <span class="s">&quot;2012-11-24 20:47:51&quot;</span><span class="p">,</span>
            <span class="s">&quot;bak_ip_status&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="p">]</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="monitor-create">
<span id="id3"></span><h2>监控添加<a class="headerlink" href="#monitor-create" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>接口地址：</dt>
<dd><ul class="first last simple">
<li>&nbsp;<a class="reference external" href="https://dnsapi.cn/Monitor.Create">https://dnsapi.cn/Monitor.Create</a></li>
</ul>
</dd>
<dt>HTTP请求方式：</dt>
<dd><ul class="first last simple">
<li>POST</li>
</ul>
</dd>
<dt>请求参数：</dt>
<dd><ul class="first last">
<li><p class="first">公共参数</p>
</li>
<li><p class="first">domain_id 域名编号，必选</p>
</li>
<li><p class="first">record_id 记录编号，必选</p>
</li>
<li><p class="first">port 监控端口，比如80，必选</p>
</li>
<li><p class="first">monitor_interval 监控间隔，支持{60|180|360|}，必选</p>
</li>
<li><p class="first">host 监控主机头，比如 www.dnspod.cn，必选</p>
</li>
<li><p class="first">monitor_type 监控类型，支持{http|https}，必选</p>
</li>
<li><p class="first">monitor_path 监控路径，比如/，必选</p>
</li>
<li><p class="first">points 监控节点，用,分隔多个，只能选择列表中的节点，并且有数量限制，必选</p>
</li>
<li><dl class="first docutils">
<dt>bak_ip 宕机备用，必选，支持任选以下选项中的一个：</dt>
<dd><ol class="first last arabic simple">
<li>pass 只监控，不切换</li>
<li>pause 老版智能暂停功能，详见https://support.dnspod.cn/Kb/showarticle/tsid/179</li>
<li>pause2 智能暂停v2, 发现ip宕机后直接暂停该记录，无其它规则</li>
<li>auto 智能切换</li>
<li>用逗号分隔的IP 设置备用IP</li>
</ol>
</dd>
</dl>
</li>
<li><p class="first">keep_ttl {yes|no} 宕机切换后是否修改ttl，可选，默认为 no</p>
</li>
<li><p class="first">sms_notice 短信通知，me域名所有者，share共享用户，用,分隔多选择，比如me,share, 可选</p>
</li>
<li><p class="first">email_notice 邮件通知，me域名所有者，share共享用户，用,分隔多选择，比如me,share，可选</p>
</li>
<li><p class="first">less_notice {yes|no}是否一个小时内只发一次通知，可选</p>
</li>
<li><p class="first">callback_url  可选，回调URL，宕机了会将相关的参数提交到此设置的URL，具体参考回调URL说明，可选</p>
</li>
<li><p class="first">callback_key 可选，回调密钥，如果设置了回调URL请设置此参数以保证安全，可选</p>
</li>
</ul>
</dd>
<dt>响应代码：</dt>
<dd><ul class="first last simple">
<li>共通返回</li>
<li>6 域名编号错误</li>
<li>7 记录编号错误</li>
<li>8 监控主机头错误</li>
<li>9 监控端口错误，端口只能是正整数1~65535</li>
<li>10 监控类型不正确</li>
<li>11 监控路径不正确</li>
<li>12  监控间隔不正确</li>
<li>13 监控节点不正确</li>
<li>14 监控节点数量超出限制</li>
<li>15 备用IP不正确</li>
<li>16 备用url不正确</li>
<li>17 备用IP不正确</li>
<li>18 短信设置不正确</li>
<li>19 邮件设置不正确</li>
<li>20 此记录已经存在监控</li>
<li>21 监控数量超出限制</li>
<li>22 回调URL不正确</li>
</ul>
</dd>
</dl>
<p>示例:</p>
<div class="highlight-python"><div class="highlight"><pre>curl -X POST https://dnsapi.cn/Monitor.Create -d &#39;login_token=LOGIN_TOKEN&amp;format=json&amp;domain_id=2317346&amp;record_id=16909160&amp;port=80&amp;monitor_type=http&amp;monitor_path=/&amp;monitor_interval=360&amp;points=ctc,cuc,cmc&amp;bak_ip=pass&amp;host=testapi.com&#39;
</pre></div>
</div>
<p>返回参考：</p>
<blockquote>
<div><ul>
<li><p class="first">JSON:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span>
    <span class="s">&quot;status&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">&quot;code&quot;</span><span class="p">:</span> <span class="s">&quot;1&quot;</span><span class="p">,</span>
        <span class="s">&quot;message&quot;</span><span class="p">:</span> <span class="s">&quot;Action completed successful&quot;</span><span class="p">,</span>
        <span class="s">&quot;created_at&quot;</span><span class="p">:</span> <span class="s">&quot;2012-11-24 21:25:30&quot;</span>
    <span class="p">},</span>
    <span class="s">&quot;monitor&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">&quot;monitor_id&quot;</span><span class="p">:</span> <span class="s">&quot;6aac176e-363a-11e2-bab7-0819a6248970&quot;</span><span class="p">,</span>
        <span class="s">&quot;record_id&quot;</span><span class="p">:</span> <span class="mi">16909160</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="monitor-modify">
<span id="id4"></span><h2>监控修改<a class="headerlink" href="#monitor-modify" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>接口地址：</dt>
<dd><ul class="first last simple">
<li>&nbsp;<a class="reference external" href="https://dnsapi.cn/Monitor.Modify">https://dnsapi.cn/Monitor.Modify</a></li>
</ul>
</dd>
<dt>HTTP请求方式：</dt>
<dd><ul class="first last simple">
<li>POST</li>
</ul>
</dd>
<dt>请求参数：</dt>
<dd><ul class="first last">
<li><p class="first">公共参数</p>
</li>
<li><p class="first">monitor_id 监控编号，必选</p>
</li>
<li><p class="first">port 监控端口，比如80，必选</p>
</li>
<li><p class="first">monitor_interval 监控间隔，支持{60|180|360|}，必选</p>
</li>
<li><p class="first">monitor_type 监控类型，支持{http|https}，必选</p>
</li>
<li><p class="first">monitor_path 监控路径，比如/，必选</p>
</li>
<li><p class="first">points 监控节点，用,分隔多个，只能选择列表中的节点，并且有数量限制，必选</p>
</li>
<li><dl class="first docutils">
<dt>bak_ip 宕机备用，必选，支持任选以下选项中的一个：</dt>
<dd><ol class="first last arabic simple">
<li>pass 只监控，不切换</li>
<li>pause 老版智能暂停功能，详见https://support.dnspod.cn/Kb/showarticle/tsid/179</li>
<li>pause2 智能暂停v2, 发现ip宕机后直接暂停该记录，无其它规则</li>
<li>auto 智能切换</li>
<li>用逗号分隔的IP 设置备用IP</li>
</ol>
</dd>
</dl>
</li>
<li><p class="first">host 监控主机头，比如 www.dnspod.cn，可选</p>
</li>
<li><p class="first">keep_ttl {yes|no} 宕机切换后是否修改ttl，可选，默认为 no</p>
</li>
<li><p class="first">sms_notice 短信通知，me域名所有者，share共享用户，用,分隔多选择，比如me,share, 可选</p>
</li>
<li><p class="first">email_notice 邮件通知，me域名所有者，share共享用户，用,分隔多选择，比如me,share，可选</p>
</li>
<li><p class="first">less_notice {yes|no}是否一个小时内只发一次通知，可选</p>
</li>
<li><p class="first">callback_url  可选，回调URL，宕机了会将相关的参数提交到此设置的URL，具体参考回调URL说明，可选</p>
</li>
<li><p class="first">callback_key 可选，回调密钥，如果设置了回调URL请设置此参数以保证安全，可选</p>
</li>
</ul>
</dd>
<dt>响应代码：</dt>
<dd><ul class="first last simple">
<li>共通返回</li>
<li>7 监控编号错误</li>
<li>8 监控主机头错误</li>
<li>9 监控端口错误，端口只能是正整数1~65535</li>
<li>10 监控类型不正确</li>
<li>11 监控路径不正确</li>
<li>12  监控间隔不正确</li>
<li>13 监控节点不正确</li>
<li>14 监控节点数量超出限制</li>
<li>15 备用IP不正确</li>
<li>16 备用url不正确</li>
<li>17 备用IP不正确</li>
<li>18 短信设置不正确</li>
<li>19 邮件设置不正确</li>
<li>22 回调URL不正确</li>
</ul>
</dd>
</dl>
<p>示例:</p>
<div class="highlight-python"><div class="highlight"><pre>curl -X POST https://dnsapi.cn/Monitor.Modify -d &#39;login_token=LOGIN_TOKEN&amp;format=json&amp;domain_id=2317346&amp;monitor_id=51fc9a20-363c-11e2-bab7-0819a6248970&amp;port=80&amp;monitor_type=http&amp;monitor_path=/&amp;monitor_interval=360&amp;points=ctc,cuc,cmc&amp;bak_ip=pass&#39;
</pre></div>
</div>
<p>返回参考：</p>
<blockquote>
<div><ul>
<li><p class="first">JSON:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span>
    <span class="s">&quot;status&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">&quot;code&quot;</span><span class="p">:</span> <span class="s">&quot;1&quot;</span><span class="p">,</span>
        <span class="s">&quot;message&quot;</span><span class="p">:</span> <span class="s">&quot;Action completed successful&quot;</span><span class="p">,</span>
        <span class="s">&quot;created_at&quot;</span><span class="p">:</span> <span class="s">&quot;2012-11-24 21:41:31&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="monitor-remove">
<span id="id5"></span><h2>监控删除<a class="headerlink" href="#monitor-remove" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>接口地址：</dt>
<dd><ul class="first last simple">
<li>&nbsp;<a class="reference external" href="https://dnsapi.cn/Monitor.Remove">https://dnsapi.cn/Monitor.Remove</a></li>
</ul>
</dd>
<dt>HTTP请求方式：</dt>
<dd><ul class="first last simple">
<li>POST</li>
</ul>
</dd>
<dt>请求参数：</dt>
<dd><ul class="first last simple">
<li>公共参数</li>
<li>monitor_id 监控编号</li>
</ul>
</dd>
<dt>响应代码：</dt>
<dd><ul class="first last simple">
<li>共通返回</li>
<li>6 监控编号错误</li>
</ul>
</dd>
</dl>
<p>示例:</p>
<div class="highlight-python"><div class="highlight"><pre>curl -X POST https://dnsapi.cn/Monitor.Modify -d &#39;login_token=LOGIN_TOKEN&amp;format=json&amp;monitor_id=51fc9a20-363c-11e2-bab7-0819a6248970&#39;
</pre></div>
</div>
<p>返回参考：</p>
<blockquote>
<div><ul>
<li><p class="first">JSON:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span>
    <span class="s">&quot;status&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">&quot;code&quot;</span><span class="p">:</span> <span class="s">&quot;1&quot;</span><span class="p">,</span>
        <span class="s">&quot;message&quot;</span><span class="p">:</span> <span class="s">&quot;Action completed successful&quot;</span><span class="p">,</span>
        <span class="s">&quot;created_at&quot;</span><span class="p">:</span> <span class="s">&quot;2012-11-24 21:51:49&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="monitor-info">
<span id="id6"></span><h2>获取监控信息<a class="headerlink" href="#monitor-info" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>接口地址：</dt>
<dd><ul class="first last simple">
<li><a class="reference external" href="https://dnsapi.cn/Monitor.Info">https://dnsapi.cn/Monitor.Info</a></li>
</ul>
</dd>
<dt>HTTP请求方式：</dt>
<dd><ul class="first last simple">
<li>POST</li>
</ul>
</dd>
<dt>请求参数：</dt>
<dd><ul class="first last simple">
<li>公共参数</li>
<li>monitor_id 监控编号</li>
</ul>
</dd>
<dt>响应代码：</dt>
<dd><ul class="first last simple">
<li>共通返回</li>
<li>7 监控编号错误</li>
</ul>
</dd>
</dl>
<p>示例:</p>
<div class="highlight-python"><div class="highlight"><pre>curl -X POST https://dnsapi.cn/Monitor.Info -d &#39;login_token=LOGIN_TOKEN&amp;format=json&amp;monitor_id=e91997aa-3641-11e2-bab7-0819a6248970&#39;
</pre></div>
</div>
<p>返回参考：</p>
<blockquote>
<div><ul>
<li><p class="first">JSON:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span>
    <span class="s">&quot;status&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">&quot;code&quot;</span><span class="p">:</span> <span class="s">&quot;1&quot;</span><span class="p">,</span>
        <span class="s">&quot;message&quot;</span><span class="p">:</span> <span class="s">&quot;Action completed successful&quot;</span><span class="p">,</span>
        <span class="s">&quot;created_at&quot;</span><span class="p">:</span> <span class="s">&quot;2012-11-24 22:19:58&quot;</span>
    <span class="p">},</span>
    <span class="s">&quot;info&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">&quot;monitor_id&quot;</span><span class="p">:</span> <span class="s">&quot;e91997aa-3641-11e2-bab7-0819a6248970&quot;</span><span class="p">,</span>
        <span class="s">&quot;domain&quot;</span><span class="p">:</span> <span class="s">&quot;testapi.com&quot;</span><span class="p">,</span>
        <span class="s">&quot;domain_id&quot;</span><span class="p">:</span> <span class="s">&quot;2317346&quot;</span><span class="p">,</span>
        <span class="s">&quot;domain_grade&quot;</span><span class="p">:</span> <span class="s">&quot;D_Plus&quot;</span><span class="p">,</span>
        <span class="s">&quot;record_id&quot;</span><span class="p">:</span> <span class="s">&quot;16909160&quot;</span><span class="p">,</span>
        <span class="s">&quot;sub_domain&quot;</span><span class="p">:</span> <span class="s">&quot;@&quot;</span><span class="p">,</span>
        <span class="s">&quot;record_line&quot;</span><span class="p">:</span> <span class="s">&quot;默认&quot;</span><span class="p">,</span>
        <span class="s">&quot;ip&quot;</span><span class="p">:</span> <span class="s">&quot;119.180.24.194&quot;</span><span class="p">,</span>
        <span class="s">&quot;now_ip&quot;</span><span class="p">:</span> <span class="s">&quot;119.180.24.194&quot;</span><span class="p">,</span>
        <span class="s">&quot;host&quot;</span><span class="p">:</span> <span class="s">&quot;testapi.com&quot;</span><span class="p">,</span>
        <span class="s">&quot;port&quot;</span><span class="p">:</span> <span class="s">&quot;80&quot;</span><span class="p">,</span>
        <span class="s">&quot;monitor_type&quot;</span><span class="p">:</span> <span class="s">&quot;http&quot;</span><span class="p">,</span>
        <span class="s">&quot;monitor_path&quot;</span><span class="p">:</span> <span class="s">&quot;/&quot;</span><span class="p">,</span>
        <span class="s">&quot;monitor_interval&quot;</span><span class="p">:</span> <span class="s">&quot;180&quot;</span><span class="p">,</span>
        <span class="s">&quot;points&quot;</span><span class="p">:</span> <span class="s">&quot;ctc,cuc,cmc&quot;</span><span class="p">,</span>
        <span class="s">&quot;bak_ip&quot;</span><span class="p">:</span> <span class="s">&quot;pass&quot;</span><span class="p">,</span>
        <span class="s">&quot;status&quot;</span><span class="p">:</span> <span class="s">&quot;Ok&quot;</span><span class="p">,</span>
        <span class="s">&quot;status_code&quot;</span><span class="p">:</span> <span class="s">&quot;200&quot;</span><span class="p">,</span>
        <span class="s">&quot;sms_notice&quot;</span><span class="p">:</span> <span class="s">&quot;me&quot;</span><span class="p">,</span>
        <span class="s">&quot;email_notice&quot;</span><span class="p">:</span> <span class="s">&quot;me&quot;</span><span class="p">,</span>
        <span class="s">&quot;less_notice&quot;</span><span class="p">:</span> <span class="s">&quot;no&quot;</span><span class="p">,</span>
        <span class="s">&quot;callback_url&quot;</span><span class="p">:</span> <span class="s">&quot;&quot;</span><span class="p">,</span>
        <span class="s">&quot;callback_key&quot;</span><span class="p">:</span> <span class="s">&quot;&quot;</span><span class="p">,</span>
        <span class="s">&quot;monitor_status&quot;</span><span class="p">:</span> <span class="s">&quot;enabled&quot;</span><span class="p">,</span>
        <span class="s">&quot;created_on&quot;</span><span class="p">:</span> <span class="s">&quot;2012-11-24 22:19:09&quot;</span><span class="p">,</span>
        <span class="s">&quot;updated_on&quot;</span><span class="p">:</span> <span class="s">&quot;2012-11-24 22:19:09&quot;</span><span class="p">,</span>
        <span class="s">&quot;bak_ip_status&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="monitor-setstatus">
<span id="id7"></span><h2>设置监控状态<a class="headerlink" href="#monitor-setstatus" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>接口地址：</dt>
<dd><ul class="first last simple">
<li>&nbsp;<a class="reference external" href="https://dnsapi.cn/Monitor.Setstatus">https://dnsapi.cn/Monitor.Setstatus</a></li>
</ul>
</dd>
<dt>HTTP请求方式：</dt>
<dd><ul class="first last simple">
<li>POST</li>
</ul>
</dd>
<dt>请求参数：</dt>
<dd><ul class="first last simple">
<li>公共参数</li>
<li>monitor_id 监控编号，必选</li>
<li>status {enabled|disabled} 新的状态，必选</li>
</ul>
</dd>
<dt>响应代码：</dt>
<dd><ul class="first last simple">
<li>共通返回</li>
<li>6 监控编号错误</li>
<li>7 新状态代码错误</li>
<li>8 请先启用域名</li>
<li>9 请先启用记录</li>
</ul>
</dd>
<dt>响应代码：</dt>
<dd><ul class="first last simple">
<li>共通返回</li>
<li>6 监控编号错误</li>
</ul>
</dd>
</dl>
<p>示例:</p>
<div class="highlight-python"><div class="highlight"><pre>curl -X POST https://dnsapi.cn/Monitor.Setstatus -d &#39;login_token=LOGIN_TOKEN&amp;format=json&amp;monitor_id=03e3b268-3643-11e2-bab7-0819a6248970&amp;status=disable&#39;
</pre></div>
</div>
<p>返回参考：</p>
<blockquote>
<div><ul>
<li><p class="first">JSON:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span>
    <span class="s">&quot;status&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">&quot;code&quot;</span><span class="p">:</span> <span class="s">&quot;1&quot;</span><span class="p">,</span>
        <span class="s">&quot;message&quot;</span><span class="p">:</span> <span class="s">&quot;Action completed successful&quot;</span><span class="p">,</span>
        <span class="s">&quot;created_at&quot;</span><span class="p">:</span> <span class="s">&quot;2012-11-24 22:33:20&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="monitor-gethistory">
<span id="id8"></span><h2>获取监控历史<a class="headerlink" href="#monitor-gethistory" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>接口地址：</dt>
<dd><ul class="first last simple">
<li>&nbsp;<a class="reference external" href="https://dnsapi.cn/Monitor.Gethistory">https://dnsapi.cn/Monitor.Gethistory</a></li>
</ul>
</dd>
<dt>HTTP请求方式：</dt>
<dd><ul class="first last simple">
<li>POST</li>
</ul>
</dd>
<dt>请求参数：</dt>
<dd><ul class="first last simple">
<li>公共参数</li>
<li>monitor_id 监控编号，必选</li>
<li>hours 获取最近多少个小时的记录，可选</li>
</ul>
</dd>
<dt>响应代码：</dt>
<dd><ul class="first last simple">
<li>共通返回</li>
<li>6 监控编号错误</li>
</ul>
</dd>
</dl>
<p>示例:</p>
<div class="highlight-python"><div class="highlight"><pre>curl -X POST https://dnsapi.cn/Monitor.Gethistory -d &#39;login_token=LOGIN_TOKEN&amp;format=json&amp;monitor_id=03e3b268-3643-11e2-bab7-0819a6248970&amp;hours=1&#39;
</pre></div>
</div>
<p>返回参考：</p>
<blockquote>
<div><ul>
<li><p class="first">JSON:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span>
    <span class="s">&quot;status&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">&quot;code&quot;</span><span class="p">:</span> <span class="s">&quot;1&quot;</span><span class="p">,</span>
        <span class="s">&quot;message&quot;</span><span class="p">:</span> <span class="s">&quot;Action completed successful&quot;</span><span class="p">,</span>
        <span class="s">&quot;created_at&quot;</span><span class="p">:</span> <span class="s">&quot;2012-11-24 22:40:02&quot;</span>
    <span class="p">},</span>
    <span class="s">&quot;domain&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">&quot;id&quot;</span><span class="p">:</span> <span class="s">&quot;2317346&quot;</span><span class="p">,</span>
        <span class="s">&quot;domain&quot;</span><span class="p">:</span> <span class="s">&quot;testapi.com&quot;</span><span class="p">,</span>
        <span class="s">&quot;domain_grade&quot;</span><span class="p">:</span> <span class="s">&quot;D_Plus&quot;</span>
    <span class="p">},</span>
    <span class="s">&quot;record&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">&quot;id&quot;</span><span class="p">:</span> <span class="s">&quot;16909160&quot;</span><span class="p">,</span>
        <span class="s">&quot;sub_domain&quot;</span><span class="p">:</span> <span class="s">&quot;@&quot;</span><span class="p">,</span>
        <span class="s">&quot;ip&quot;</span><span class="p">:</span> <span class="s">&quot;119.180.24.194&quot;</span>
    <span class="p">},</span>
    <span class="s">&quot;monitor_history&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&quot;message&quot;</span><span class="p">:</span> <span class="s">&quot;ok&quot;</span><span class="p">,</span>
                <span class="s">&quot;code&quot;</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span>
                <span class="s">&quot;data&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">{</span>
                        <span class="s">&quot;status&quot;</span><span class="p">:</span> <span class="s">&quot;Down&quot;</span><span class="p">,</span>
                        <span class="s">&quot;status_code&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span>
                        <span class="s">&quot;createtime&quot;</span><span class="p">:</span> <span class="s">&quot;2012-11-24 22:28:31&quot;</span><span class="p">,</span>
                        <span class="s">&quot;responsetime&quot;</span><span class="p">:</span> <span class="mi">0</span>
                    <span class="p">},</span>
                    <span class="p">{</span>
                        <span class="s">&quot;status&quot;</span><span class="p">:</span> <span class="s">&quot;Down&quot;</span><span class="p">,</span>
                        <span class="s">&quot;status_code&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span>
                        <span class="s">&quot;createtime&quot;</span><span class="p">:</span> <span class="s">&quot;2012-11-24 22:31:31&quot;</span><span class="p">,</span>
                        <span class="s">&quot;responsetime&quot;</span><span class="p">:</span> <span class="mi">0</span>
                    <span class="p">},</span>
                    <span class="p">{</span>
                        <span class="s">&quot;status&quot;</span><span class="p">:</span> <span class="s">&quot;Down&quot;</span><span class="p">,</span>
                        <span class="s">&quot;status_code&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span>
                        <span class="s">&quot;createtime&quot;</span><span class="p">:</span> <span class="s">&quot;2012-11-24 22:34:31&quot;</span><span class="p">,</span>
                        <span class="s">&quot;responsetime&quot;</span><span class="p">:</span> <span class="mi">999</span>
                    <span class="p">},</span>
                    <span class="p">{</span>
                        <span class="s">&quot;status&quot;</span><span class="p">:</span> <span class="s">&quot;Down&quot;</span><span class="p">,</span>
                        <span class="s">&quot;status_code&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span>
                        <span class="s">&quot;createtime&quot;</span><span class="p">:</span> <span class="s">&quot;2012-11-24 22:37:31&quot;</span><span class="p">,</span>
                        <span class="s">&quot;responsetime&quot;</span><span class="p">:</span> <span class="mi">1</span>
                    <span class="p">}</span>
                <span class="p">]</span>
            <span class="p">},</span>
            <span class="s">&quot;point&quot;</span><span class="p">:</span> <span class="s">&quot;ctc&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&quot;message&quot;</span><span class="p">:</span> <span class="s">&quot;ok&quot;</span><span class="p">,</span>
                <span class="s">&quot;code&quot;</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span>
                <span class="s">&quot;data&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">{</span>
                        <span class="s">&quot;status&quot;</span><span class="p">:</span> <span class="s">&quot;Down&quot;</span><span class="p">,</span>
                        <span class="s">&quot;status_code&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span>
                        <span class="s">&quot;createtime&quot;</span><span class="p">:</span> <span class="s">&quot;2012-11-24 22:28:52&quot;</span><span class="p">,</span>
                        <span class="s">&quot;responsetime&quot;</span><span class="p">:</span> <span class="mi">0</span>
                    <span class="p">},</span>
                    <span class="p">{</span>
                        <span class="s">&quot;status&quot;</span><span class="p">:</span> <span class="s">&quot;Down&quot;</span><span class="p">,</span>
                        <span class="s">&quot;status_code&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span>
                        <span class="s">&quot;createtime&quot;</span><span class="p">:</span> <span class="s">&quot;2012-11-24 22:31:52&quot;</span><span class="p">,</span>
                        <span class="s">&quot;responsetime&quot;</span><span class="p">:</span> <span class="mi">0</span>
                    <span class="p">},</span>
                    <span class="p">{</span>
                        <span class="s">&quot;status&quot;</span><span class="p">:</span> <span class="s">&quot;Down&quot;</span><span class="p">,</span>
                        <span class="s">&quot;status_code&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span>
                        <span class="s">&quot;createtime&quot;</span><span class="p">:</span> <span class="s">&quot;2012-11-24 22:34:52&quot;</span><span class="p">,</span>
                        <span class="s">&quot;responsetime&quot;</span><span class="p">:</span> <span class="mi">0</span>
                    <span class="p">},</span>
                    <span class="p">{</span>
                        <span class="s">&quot;status&quot;</span><span class="p">:</span> <span class="s">&quot;Down&quot;</span><span class="p">,</span>
                        <span class="s">&quot;status_code&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span>
                        <span class="s">&quot;createtime&quot;</span><span class="p">:</span> <span class="s">&quot;2012-11-24 22:37:52&quot;</span><span class="p">,</span>
                        <span class="s">&quot;responsetime&quot;</span><span class="p">:</span> <span class="mi">0</span>
                    <span class="p">}</span>
                <span class="p">]</span>
            <span class="p">},</span>
            <span class="s">&quot;point&quot;</span><span class="p">:</span> <span class="s">&quot;cuc&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&quot;message&quot;</span><span class="p">:</span> <span class="s">&quot;ok&quot;</span><span class="p">,</span>
                <span class="s">&quot;code&quot;</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span>
                <span class="s">&quot;data&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">{</span>
                        <span class="s">&quot;status&quot;</span><span class="p">:</span> <span class="s">&quot;Down&quot;</span><span class="p">,</span>
                        <span class="s">&quot;status_code&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span>
                        <span class="s">&quot;createtime&quot;</span><span class="p">:</span> <span class="s">&quot;2012-11-24 22:30:07&quot;</span><span class="p">,</span>
                        <span class="s">&quot;responsetime&quot;</span><span class="p">:</span> <span class="mi">1</span>
                    <span class="p">},</span>
                    <span class="p">{</span>
                        <span class="s">&quot;status&quot;</span><span class="p">:</span> <span class="s">&quot;Down&quot;</span><span class="p">,</span>
                        <span class="s">&quot;status_code&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span>
                        <span class="s">&quot;createtime&quot;</span><span class="p">:</span> <span class="s">&quot;2012-11-24 22:33:05&quot;</span><span class="p">,</span>
                        <span class="s">&quot;responsetime&quot;</span><span class="p">:</span> <span class="mi">0</span>
                    <span class="p">},</span>
                    <span class="p">{</span>
                        <span class="s">&quot;status&quot;</span><span class="p">:</span> <span class="s">&quot;Down&quot;</span><span class="p">,</span>
                        <span class="s">&quot;status_code&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span>
                        <span class="s">&quot;createtime&quot;</span><span class="p">:</span> <span class="s">&quot;2012-11-24 22:36:06&quot;</span><span class="p">,</span>
                        <span class="s">&quot;responsetime&quot;</span><span class="p">:</span> <span class="mi">1</span>
                    <span class="p">},</span>
                    <span class="p">{</span>
                        <span class="s">&quot;status&quot;</span><span class="p">:</span> <span class="s">&quot;Down&quot;</span><span class="p">,</span>
                        <span class="s">&quot;status_code&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span>
                        <span class="s">&quot;createtime&quot;</span><span class="p">:</span> <span class="s">&quot;2012-11-24 22:39:06&quot;</span><span class="p">,</span>
                        <span class="s">&quot;responsetime&quot;</span><span class="p">:</span> <span class="mi">1</span>
                    <span class="p">}</span>
                <span class="p">]</span>
            <span class="p">},</span>
            <span class="s">&quot;point&quot;</span><span class="p">:</span> <span class="s">&quot;cmc&quot;</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="monitor-userdesc">
<span id="id9"></span><h2>获取监控概况<a class="headerlink" href="#monitor-userdesc" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>接口地址：</dt>
<dd><ul class="first last simple">
<li><a class="reference external" href="https://dnsapi.cn/Monitor.Userdesc">https://dnsapi.cn/Monitor.Userdesc</a></li>
</ul>
</dd>
<dt>HTTP请求方式：</dt>
<dd><ul class="first last simple">
<li>POST</li>
</ul>
</dd>
<dt>请求参数：</dt>
<dd><ul class="first last simple">
<li>公共参数</li>
</ul>
</dd>
<dt>响应代码：</dt>
<dd><ul class="first last simple">
<li>共通返回</li>
</ul>
</dd>
</dl>
<p>示例:</p>
<div class="highlight-python"><div class="highlight"><pre>curl -X POST https://dnsapi.cn/Monitor.Userdesc -d &#39;login_token=LOGIN_TOKEN&amp;format=json&#39;
</pre></div>
</div>
<p>返回参考：</p>
<blockquote>
<div><ul>
<li><p class="first">JSON:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span>
    <span class="s">&quot;status&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">&quot;code&quot;</span><span class="p">:</span> <span class="s">&quot;1&quot;</span><span class="p">,</span>
        <span class="s">&quot;message&quot;</span><span class="p">:</span> <span class="s">&quot;Action completed successful&quot;</span><span class="p">,</span>
        <span class="s">&quot;created_at&quot;</span><span class="p">:</span> <span class="s">&quot;2012-11-24 22:50:14&quot;</span>
    <span class="p">},</span>
    <span class="s">&quot;desc&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">&quot;unmoniting_count&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
        <span class="s">&quot;moniting_count&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s">&quot;down_count&quot;</span><span class="p">:</span> <span class="mi">1</span>
    <span class="p">},</span>
    <span class="s">&quot;user&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">&quot;max_count&quot;</span><span class="p">:</span> <span class="mi">28</span><span class="p">,</span>
        <span class="s">&quot;use_count&quot;</span><span class="p">:</span> <span class="mi">1</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="monitor-getdowns">
<span id="id10"></span><h2>获取监控警告<a class="headerlink" href="#monitor-getdowns" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>接口地址：</dt>
<dd><ul class="first last simple">
<li>&nbsp;<a class="reference external" href="https://dnsapi.cn/Monitor.Getdowns">https://dnsapi.cn/Monitor.Getdowns</a></li>
</ul>
</dd>
<dt>HTTP请求方式：</dt>
<dd><ul class="first last simple">
<li>POST</li>
</ul>
</dd>
<dt>请求参数：</dt>
<dd><ul class="first last simple">
<li>公共参数</li>
<li>offset 记录开始的偏移，第一条记录为 0，依次类推，可选</li>
<li>length 共要获取的记录的数量，比如获取20条，则为20，可选</li>
</ul>
</dd>
<dt>响应代码：</dt>
<dd><ul class="first last simple">
<li>共通返回</li>
</ul>
</dd>
</dl>
<p>示例:</p>
<div class="highlight-python"><div class="highlight"><pre>curl -X POST https://dnsapi.cn/Monitor.Getdowns -d &#39;login_token=LOGIN_TOKEN&amp;format=json&amp;offset=0&amp;length=10&#39;
</pre></div>
</div>
<p>返回参考：</p>
<blockquote>
<div><ul>
<li><p class="first">JSON:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span>
    <span class="s">&quot;status&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">&quot;code&quot;</span><span class="p">:</span> <span class="s">&quot;1&quot;</span><span class="p">,</span>
        <span class="s">&quot;message&quot;</span><span class="p">:</span> <span class="s">&quot;Action completed successful&quot;</span><span class="p">,</span>
        <span class="s">&quot;created_at&quot;</span><span class="p">:</span> <span class="s">&quot;2012-11-24 22:54:03&quot;</span>
    <span class="p">},</span>
    <span class="s">&quot;info&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">&quot;total_count&quot;</span><span class="p">:</span> <span class="s">&quot;1&quot;</span>
    <span class="p">},</span>
    <span class="s">&quot;monitor_downs&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s">&quot;monitor_id&quot;</span><span class="p">:</span> <span class="s">&quot;03e3b268-3643-11e2-bab7-0819a6248970&quot;</span><span class="p">,</span>
            <span class="s">&quot;host&quot;</span><span class="p">:</span> <span class="s">&quot;testapi.com&quot;</span><span class="p">,</span>
            <span class="s">&quot;record_line&quot;</span><span class="p">:</span> <span class="s">&quot;默认&quot;</span><span class="p">,</span>
            <span class="s">&quot;ip&quot;</span><span class="p">:</span> <span class="s">&quot;119.180.24.194&quot;</span><span class="p">,</span>
            <span class="s">&quot;warn_reason&quot;</span><span class="p">:</span> <span class="s">&quot;连接超时|访问您主机时连接超时，并且重试了5次后依然超时，建议您检查下你的服务器是否有网络不稳定的情况移动:timed out网通:timed out电信:timed out&quot;</span><span class="p">,</span>
            <span class="s">&quot;switch_log&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="p">],</span>
            <span class="s">&quot;created_on&quot;</span><span class="p">:</span> <span class="s">&quot;2012-11-24 22:30:06&quot;</span><span class="p">,</span>
            <span class="s">&quot;updated_on&quot;</span><span class="p">:</span> <span class="s">&quot;0000-00-00 00:00:00&quot;</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
</ul>
</div></blockquote>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">D监控相关</a><ul>
<li><a class="reference internal" href="#a">列出包含A记录的子域名</a></li>
<li><a class="reference internal" href="#monitor-listsubvalue">列出子域名的A记录</a></li>
<li><a class="reference internal" href="#monitor-list">监控列表</a></li>
<li><a class="reference internal" href="#monitor-create">监控添加</a></li>
<li><a class="reference internal" href="#monitor-modify">监控修改</a></li>
<li><a class="reference internal" href="#monitor-remove">监控删除</a></li>
<li><a class="reference internal" href="#monitor-info">获取监控信息</a></li>
<li><a class="reference internal" href="#monitor-setstatus">设置监控状态</a></li>
<li><a class="reference internal" href="#monitor-gethistory">获取监控历史</a></li>
<li><a class="reference internal" href="#monitor-userdesc">获取监控概况</a></li>
<li><a class="reference internal" href="#monitor-getdowns">获取监控警告</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="batch.html"
                        title="previous chapter">批量操作相关</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="custom-monitoring.html"
                        title="next chapter">自定义监控相关</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/d-monitor.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
        &copy; Copyright DNSPod Inc.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>