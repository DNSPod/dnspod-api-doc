<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>记录相关 &mdash; DNSPod API Doc 1.0.0 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="DNSPod API Doc 1.0.0 documentation" href="index.html" />
    <link rel="next" title="D监控相关" href="d-monitor.html" />
    <link rel="prev" title="域名相关" href="domains.html" /> 
  </head>
  <body>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="id1">
<h1>记录相关<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h1>
<div class="section" id="record-create">
<span id="id2"></span><h2>添加记录<a class="headerlink" href="#record-create" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>接口地址：</dt>
<dd><ul class="first last simple">
<li><a class="reference external" href="https://dnsapi.cn/Record.Create">https://dnsapi.cn/Record.Create</a></li>
</ul>
</dd>
<dt>HTTP请求方式：</dt>
<dd><ul class="first last simple">
<li>POST</li>
</ul>
</dd>
<dt>请求参数：</dt>
<dd><ul class="first last simple">
<li>公共参数</li>
<li>domain_id  域名ID, 必选</li>
<li>sub_domain  主机记录, 如 www, 默认&#64;，可选</li>
<li>record_type  记录类型，通过API记录类型获得，大写英文，比如：A, 必选</li>
<li>record_line  记录线路，通过API记录线路获得，中文，比如：默认, 必选</li>
<li>value  记录值, 如 IP:200.200.200.200, CNAME: cname.dnspod.com., MX: mail.dnspod.com., 必选</li>
<li>mx {1-20}  MX优先级, 当记录类型是 MX 时有效，范围1-20, MX记录必选</li>
<li>ttl {1-604800}  TTL，范围1-604800，不同等级域名最小值不同, 可选</li>
<li>status [&#8220;enable&#8221;, &#8220;disable&#8221;]，记录初始状态，默认为&#8221;enable&#8221;，如果传入&#8221;disable&#8221;，解析不会生效，也不会验证负载均衡的限制，可选</li>
</ul>
</dd>
<dt>响应代码：</dt>
<dd><ul class="first last simple">
<li>共通返回</li>
<li>-15 域名已被封禁</li>
<li>-7 企业账号的域名需要升级才能设置</li>
<li>-8 代理名下用户的域名需要升级才能设置</li>
<li>6 缺少参数或者参数错误</li>
<li>7 不是域名所有者或者没有权限</li>
<li>21 域名被锁定</li>
<li>22 子域名不合法</li>
<li>23 子域名级数超出限制</li>
<li>24 泛解析子域名错误</li>
<li>25 轮循记录数量超出限制</li>
<li>26 记录线路错误</li>
<li>27 记录类型错误</li>
<li>30 MX 值错误，1-20</li>
<li>31 存在冲突的记录(A记录、CNAME记录、URL记录不能共存)</li>
<li>32 记录的TTL值超出了限制</li>
<li>33 AAAA 记录数超出限制</li>
<li>34 记录值非法</li>
<li>36 &#64;主机的NS纪录只能添加默认线路</li>
<li>82 不能添加黑名单中的IP</li>
</ul>
</dd>
</dl>
<p>示例:</p>
<div class="highlight-python"><div class="highlight"><pre>curl -X POST https://dnsapi.cn/Record.Create -d &#39;login_email=api@dnspod.com&amp;login_password=password&amp;format=json&amp;domain_id=2317346&amp;sub_domain=@&amp;record_type=A&amp;record_line=默认&amp;value=1.1.1.1&#39;
</pre></div>
</div>
<p>返回参考：</p>
<blockquote>
<div><ul>
<li><p class="first">JSON:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span>
    <span class="s">&quot;status&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">&quot;code&quot;</span><span class="p">:</span><span class="s">&quot;1&quot;</span><span class="p">,</span>
        <span class="s">&quot;message&quot;</span><span class="p">:</span><span class="s">&quot;Action completed successful&quot;</span><span class="p">,</span>
        <span class="s">&quot;created_at&quot;</span><span class="p">:</span><span class="s">&quot;2015-01-19 22:17:47&quot;</span>
    <span class="p">},</span>
    <span class="s">&quot;record&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">&quot;id&quot;</span><span class="p">:</span><span class="s">&quot;16894439&quot;</span><span class="p">,</span>
        <span class="s">&quot;name&quot;</span><span class="p">:</span><span class="s">&quot;@&quot;</span><span class="p">,</span>
        <span class="s">&quot;status&quot;</span><span class="p">:</span><span class="s">&quot;enable&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><dl class="first docutils">
<dt>字段说明:</dt>
<dd><ul class="first last simple">
<li>id: 记录ID, 即为 record_id</li>
<li>name: 添加的字域名</li>
<li>status: 域名记录的状态</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="record-list">
<span id="id3"></span><h2>记录列表<a class="headerlink" href="#record-list" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>接口地址：</dt>
<dd><ul class="first last simple">
<li><a class="reference external" href="https://dnsapi.cn/Record.List">https://dnsapi.cn/Record.List</a></li>
</ul>
</dd>
<dt>HTTP请求方式：</dt>
<dd><ul class="first last simple">
<li>POST</li>
</ul>
</dd>
<dt>请求参数：</dt>
<dd><ul class="first last simple">
<li>公共参数</li>
<li>domain_id 域名ID，必选</li>
<li>offset 记录开始的偏移，第一条记录为 0，依次类推，可选</li>
<li>length 共要获取的记录的数量，比如获取20条，则为20，可选</li>
<li>sub_domain 子域名，如果指定则只返回此子域名的记录，可选</li>
<li>keyword，搜索的关键字，如果指定则只返回符合该关键字的记录，可选</li>
</ul>
</dd>
<dt>响应代码：</dt>
<dd><ul class="first last simple">
<li>共通返回</li>
<li>-7 企业账号的域名需要升级才能设置</li>
<li>-8 代理名下用户的域名需要升级才能设置</li>
<li>6 域名ID错误</li>
<li>7 记录开始的偏移无效</li>
<li>8 共要获取的记录的数量无效</li>
<li>9 不是域名所有者</li>
<li>10 没有记录</li>
</ul>
</dd>
<dt>注意事项：</dt>
<dd><ul class="first last simple">
<li>如果域名的记录数量超过了3000，将会强制分页并且只返回前3000条，这时需要通过 offset 和 length 参数去获取其它记录。</li>
</ul>
</dd>
</dl>
<p>示例:</p>
<div class="highlight-python"><div class="highlight"><pre>curl -X POST https://dnsapi.cn/Record.List -d &#39;login_email=api@dnspod.com&amp;login_password=password&amp;format=json&amp;domain_id=2317346&#39;
</pre></div>
</div>
<p>返回参考：</p>
<blockquote>
<div><ul>
<li><p class="first">JSON:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span>
    <span class="s">&quot;status&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">&quot;code&quot;</span><span class="p">:</span> <span class="s">&quot;1&quot;</span><span class="p">,</span>
        <span class="s">&quot;message&quot;</span><span class="p">:</span> <span class="s">&quot;Action completed successful&quot;</span><span class="p">,</span>
        <span class="s">&quot;created_at&quot;</span><span class="p">:</span> <span class="s">&quot;2015-01-18 18:41:42&quot;</span>
    <span class="p">},</span>
    <span class="s">&quot;domain&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">&quot;id&quot;</span><span class="p">:</span> <span class="mi">2238269</span><span class="p">,</span>
        <span class="s">&quot;name&quot;</span><span class="p">:</span> <span class="s">&quot;我们.cn&quot;</span><span class="p">,</span>
        <span class="s">&quot;punycode&quot;</span><span class="p">:</span> <span class="s">&quot;xn--vnqp08b.cn&quot;</span><span class="p">,</span>
        <span class="s">&quot;grade&quot;</span><span class="p">:</span> <span class="s">&quot;D_Free&quot;</span><span class="p">,</span>
        <span class="s">&quot;owner&quot;</span><span class="p">:</span> <span class="s">&quot;api@dnspod.com&quot;</span>
    <span class="p">},</span>
    <span class="s">&quot;info&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">&quot;sub_domains&quot;</span><span class="p">:</span> <span class="s">&quot;4&quot;</span><span class="p">,</span>
        <span class="s">&quot;record_total&quot;</span><span class="p">:</span> <span class="s">&quot;4&quot;</span>
    <span class="p">},</span>
    <span class="s">&quot;records&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s">&quot;id&quot;</span><span class="p">:</span> <span class="s">&quot;55195163&quot;</span><span class="p">,</span>
            <span class="s">&quot;name&quot;</span><span class="p">:</span> <span class="s">&quot;@&quot;</span><span class="p">,</span>
            <span class="s">&quot;line&quot;</span><span class="p">:</span> <span class="s">&quot;默认&quot;</span><span class="p">,</span>
            <span class="s">&quot;type&quot;</span><span class="p">:</span> <span class="s">&quot;A&quot;</span><span class="p">,</span>
            <span class="s">&quot;ttl&quot;</span><span class="p">:</span> <span class="s">&quot;600&quot;</span><span class="p">,</span>
            <span class="s">&quot;value&quot;</span><span class="p">:</span> <span class="s">&quot;218.241.99.140&quot;</span><span class="p">,</span>
            <span class="s">&quot;mx&quot;</span><span class="p">:</span> <span class="s">&quot;0&quot;</span><span class="p">,</span>
            <span class="s">&quot;enabled&quot;</span><span class="p">:</span> <span class="s">&quot;1&quot;</span><span class="p">,</span>
            <span class="s">&quot;status&quot;</span><span class="p">:</span> <span class="s">&quot;enabled&quot;</span><span class="p">,</span>
            <span class="s">&quot;monitor_status&quot;</span><span class="p">:</span> <span class="s">&quot;&quot;</span><span class="p">,</span>
            <span class="s">&quot;remark&quot;</span><span class="p">:</span> <span class="s">&quot;&quot;</span><span class="p">,</span>
            <span class="s">&quot;updated_on&quot;</span><span class="p">:</span> <span class="s">&quot;2014-03-28 18:54:35&quot;</span><span class="p">,</span>
            <span class="s">&quot;use_aqb&quot;</span><span class="p">:</span> <span class="s">&quot;no&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s">&quot;id&quot;</span><span class="p">:</span> <span class="s">&quot;16158908&quot;</span><span class="p">,</span>
            <span class="s">&quot;name&quot;</span><span class="p">:</span> <span class="s">&quot;@&quot;</span><span class="p">,</span>
            <span class="s">&quot;line&quot;</span><span class="p">:</span> <span class="s">&quot;默认&quot;</span><span class="p">,</span>
            <span class="s">&quot;type&quot;</span><span class="p">:</span> <span class="s">&quot;NS&quot;</span><span class="p">,</span>
            <span class="s">&quot;ttl&quot;</span><span class="p">:</span> <span class="s">&quot;600&quot;</span><span class="p">,</span>
            <span class="s">&quot;value&quot;</span><span class="p">:</span> <span class="s">&quot;f1g1ns1.dnspod.net.&quot;</span><span class="p">,</span>
            <span class="s">&quot;mx&quot;</span><span class="p">:</span> <span class="s">&quot;0&quot;</span><span class="p">,</span>
            <span class="s">&quot;enabled&quot;</span><span class="p">:</span> <span class="s">&quot;1&quot;</span><span class="p">,</span>
            <span class="s">&quot;status&quot;</span><span class="p">:</span> <span class="s">&quot;enabled&quot;</span><span class="p">,</span>
            <span class="s">&quot;monitor_status&quot;</span><span class="p">:</span> <span class="s">&quot;&quot;</span><span class="p">,</span>
            <span class="s">&quot;remark&quot;</span><span class="p">:</span> <span class="s">&quot;&quot;</span><span class="p">,</span>
            <span class="s">&quot;updated_on&quot;</span><span class="p">:</span> <span class="s">&quot;2015-01-18 20:59:03&quot;</span><span class="p">,</span>
            <span class="s">&quot;use_aqb&quot;</span><span class="p">:</span> <span class="s">&quot;no&quot;</span><span class="p">,</span>
            <span class="s">&quot;hold&quot;</span><span class="p">:</span> <span class="s">&quot;hold&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s">&quot;id&quot;</span><span class="p">:</span> <span class="s">&quot;16158909&quot;</span><span class="p">,</span>
            <span class="s">&quot;name&quot;</span><span class="p">:</span> <span class="s">&quot;@&quot;</span><span class="p">,</span>
            <span class="s">&quot;line&quot;</span><span class="p">:</span> <span class="s">&quot;默认&quot;</span><span class="p">,</span>
            <span class="s">&quot;type&quot;</span><span class="p">:</span> <span class="s">&quot;NS&quot;</span><span class="p">,</span>
            <span class="s">&quot;ttl&quot;</span><span class="p">:</span> <span class="s">&quot;600&quot;</span><span class="p">,</span>
            <span class="s">&quot;value&quot;</span><span class="p">:</span> <span class="s">&quot;f1g1ns2.dnspod.net.&quot;</span><span class="p">,</span>
            <span class="s">&quot;mx&quot;</span><span class="p">:</span> <span class="s">&quot;0&quot;</span><span class="p">,</span>
            <span class="s">&quot;enabled&quot;</span><span class="p">:</span> <span class="s">&quot;1&quot;</span><span class="p">,</span>
            <span class="s">&quot;status&quot;</span><span class="p">:</span> <span class="s">&quot;enabled&quot;</span><span class="p">,</span>
            <span class="s">&quot;monitor_status&quot;</span><span class="p">:</span> <span class="s">&quot;&quot;</span><span class="p">,</span>
            <span class="s">&quot;remark&quot;</span><span class="p">:</span> <span class="s">&quot;&quot;</span><span class="p">,</span>
            <span class="s">&quot;updated_on&quot;</span><span class="p">:</span> <span class="s">&quot;2015-01-18 20:59:03&quot;</span><span class="p">,</span>
            <span class="s">&quot;use_aqb&quot;</span><span class="p">:</span> <span class="s">&quot;no&quot;</span><span class="p">,</span>
            <span class="s">&quot;hold&quot;</span><span class="p">:</span> <span class="s">&quot;hold&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s">&quot;id&quot;</span><span class="p">:</span> <span class="s">&quot;16158918&quot;</span><span class="p">,</span>
            <span class="s">&quot;name&quot;</span><span class="p">:</span> <span class="s">&quot;www&quot;</span><span class="p">,</span>
            <span class="s">&quot;line&quot;</span><span class="p">:</span> <span class="s">&quot;默认&quot;</span><span class="p">,</span>
            <span class="s">&quot;type&quot;</span><span class="p">:</span> <span class="s">&quot;A&quot;</span><span class="p">,</span>
            <span class="s">&quot;ttl&quot;</span><span class="p">:</span> <span class="s">&quot;600&quot;</span><span class="p">,</span>
            <span class="s">&quot;value&quot;</span><span class="p">:</span> <span class="s">&quot;218.241.99.140&quot;</span><span class="p">,</span>
            <span class="s">&quot;mx&quot;</span><span class="p">:</span> <span class="s">&quot;0&quot;</span><span class="p">,</span>
            <span class="s">&quot;enabled&quot;</span><span class="p">:</span> <span class="s">&quot;1&quot;</span><span class="p">,</span>
            <span class="s">&quot;status&quot;</span><span class="p">:</span> <span class="s">&quot;enabled&quot;</span><span class="p">,</span>
            <span class="s">&quot;monitor_status&quot;</span><span class="p">:</span> <span class="s">&quot;&quot;</span><span class="p">,</span>
            <span class="s">&quot;remark&quot;</span><span class="p">:</span> <span class="s">&quot;&quot;</span><span class="p">,</span>
            <span class="s">&quot;updated_on&quot;</span><span class="p">:</span> <span class="s">&quot;2015-01-18 20:59:25&quot;</span><span class="p">,</span>
            <span class="s">&quot;use_aqb&quot;</span><span class="p">:</span> <span class="s">&quot;no&quot;</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><dl class="first docutils">
<dt>字段说明:</dt>
<dd><ul class="first last">
<li><dl class="first docutils">
<dt>domain:</dt>
<dd><ul class="first last simple">
<li>id: 域名ID，即为 domain_id</li>
<li>name: 域名</li>
<li>punycode: punycode 转码之后的域名</li>
<li>grade: 域名等级，详见 Domain.List 或 Domain.Info 接口</li>
<li>owner: 域名所有者</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>info:</dt>
<dd><ul class="first last simple">
<li>sub_domains: 域名记录条数</li>
<li>record_total: 域名记录条数</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>records:</dt>
<dd><ul class="first last">
<li><p class="first">id: 记录ID编号</p>
</li>
<li><p class="first">name: 子域名(主机记录)</p>
</li>
<li><p class="first">line: 解析线路, 详见 Record.Line 接口</p>
</li>
<li><p class="first">type: 记录类型, 详见 Record.Type 接口</p>
</li>
<li><p class="first">ttl: 记录的 TTL 值</p>
</li>
<li><p class="first">value: 记录值</p>
</li>
<li><p class="first">mx: 记录的 MX 记录值, 非 MX 记录类型，默认为 0</p>
</li>
<li><dl class="first docutils">
<dt>enabled: 记录状态</dt>
<dd><ul class="first last simple">
<li>&#8220;0&#8221;: 禁用</li>
<li>&#8220;1&#8221;: 启用</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">status: 系统内部标识状态, 开发者可忽略</p>
</li>
<li><dl class="first docutils">
<dt>monitor_status: 该记录的D监控状态</dt>
<dd><ul class="first last simple">
<li>&#8220;Ok&#8221;: 服务器正常</li>
<li>&#8220;Warn&#8221;: 该记录有报警, 服务器返回 4XX</li>
<li>&#8220;Down&#8221;: 服务器宕机</li>
<li>&#8220;&#8221;: 该记录未开启D监控</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">remark: 记录备注</p>
</li>
<li><p class="first">updated_on: 记录最后更新时间</p>
</li>
<li><dl class="first docutils">
<dt>use_aqb: 是否开通网站安全中心</dt>
<dd><ul class="first last simple">
<li>&#8220;yes&#8221;: 已经开启</li>
<li>&#8220;no&#8221;: 未开启</li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="record-modify">
<span id="id4"></span><h2>修改记录<a class="headerlink" href="#record-modify" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>接口地址：</dt>
<dd><ul class="first last simple">
<li>&nbsp;<a class="reference external" href="https://dnsapi.cn/Record.Modify">https://dnsapi.cn/Record.Modify</a></li>
</ul>
</dd>
<dt>HTTP请求方式：</dt>
<dd><ul class="first last simple">
<li>POST</li>
</ul>
</dd>
<dt>请求参数：</dt>
<dd><ul class="first last simple">
<li>公共参数</li>
<li>domain_id 域名ID，必选</li>
<li>record_id 记录ID，必选</li>
<li>sub_domain 主机记录，默认&#64;，如 www，可选</li>
<li>record_type 记录类型，通过API记录类型获得，大写英文，比如：A，必选</li>
<li>record_line 记录线路，通过API记录线路获得，中文，比如：默认，必选</li>
<li>value 记录值, 如 IP:200.200.200.200, CNAME: cname.dnspod.com., MX: mail.dnspod.com.，必选</li>
<li>mx {1-20} MX优先级, 当记录类型是 MX 时有效，范围1-20, mx记录必选</li>
<li>ttl {1-604800} TTL，范围1-604800，不同等级域名最小值不同，可选</li>
<li>status [&#8220;enable&#8221;, &#8220;disable&#8221;]，记录状态，默认为&#8221;enable&#8221;，如果传入&#8221;disable&#8221;，解析不会生效，也不会验证负载均衡的限制，可选</li>
</ul>
</dd>
<dt>响应代码：</dt>
<dd><ul class="first last simple">
<li>共通返回</li>
<li>-15 域名已被封禁</li>
<li>-7 企业账号的域名需要升级才能设置</li>
<li>-8 代理名下用户的域名需要升级才能设置</li>
<li>6 域名ID错误</li>
<li>7 不是域名所有者或没有权限</li>
<li>8 记录ID错误</li>
<li>21 域名被锁定</li>
<li>22 子域名不合法</li>
<li>23 子域名级数超出限制</li>
<li>24 泛解析子域名错误</li>
<li>25 轮循记录数量超出限制</li>
<li>26 记录线路错误</li>
<li>27 记录类型错误</li>
<li>29 TTL 值太小</li>
<li>30 MX 值错误，1-20</li>
<li>31 URL记录数超出限制</li>
<li>32 NS 记录数超出限制</li>
<li>33 AAAA 记录数超出限制</li>
<li>34 记录值非法</li>
<li>35 添加的IP不允许</li>
<li>36 &#64;主机的NS纪录只能添加默认线路</li>
<li>82 不能添加黑名单中的IP</li>
</ul>
</dd>
<dt>注意事项：</dt>
<dd><ul class="first last simple">
<li>如果1小时之内，提交了超过5次没有任何变动的记录修改请求，该记录会被系统锁定1小时，不允许再次修改。比如原记录值已经是 1.1.1.1，新的请求还要求修改为 1.1.1.1。</li>
</ul>
</dd>
</dl>
<p>示例:</p>
<div class="highlight-python"><div class="highlight"><pre>curl -X POST https://dnsapi.cn/Record.Modify -d &#39;login_email=api@dnspod.com&amp;login_password=password&amp;format=json&amp;domain_id=2317346&amp;record_id=16894439&amp;sub_domain=www&amp;value=3.2.2.2&amp;record_type=A&amp;record_line=默认&#39;
</pre></div>
</div>
<p>返回参考：</p>
<blockquote>
<div><ul>
<li><p class="first">JSON:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span>
    <span class="s">&quot;status&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">&quot;code&quot;</span><span class="p">:</span><span class="s">&quot;1&quot;</span><span class="p">,</span>
        <span class="s">&quot;message&quot;</span><span class="p">:</span><span class="s">&quot;Action completed successful&quot;</span><span class="p">,</span>
        <span class="s">&quot;created_at&quot;</span><span class="p">:</span><span class="s">&quot;2015-01-18 16:53:23&quot;</span>
    <span class="p">},</span>
    <span class="s">&quot;record&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">&quot;id&quot;</span><span class="p">:</span><span class="mi">16894439</span><span class="p">,</span>
        <span class="s">&quot;name&quot;</span><span class="p">:</span><span class="s">&quot;@&quot;</span><span class="p">,</span>
        <span class="s">&quot;value&quot;</span><span class="p">:</span><span class="s">&quot;3.2.2.2&quot;</span><span class="p">,</span>
        <span class="s">&quot;status&quot;</span><span class="p">:</span><span class="s">&quot;enable&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><dl class="first docutils">
<dt>字段说明:</dt>
<dd><ul class="first last simple">
<li>id: 记录ID, 即为 record_id</li>
<li>name: 子域名</li>
<li>value&#8221;: 记录值</li>
<li>status&#8221;: 记录状态</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="record-remove">
<span id="id5"></span><h2>删除记录<a class="headerlink" href="#record-remove" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>接口地址：</dt>
<dd><ul class="first last simple">
<li>&nbsp;<a class="reference external" href="https://dnsapi.cn/Record.Remove">https://dnsapi.cn/Record.Remove</a></li>
</ul>
</dd>
<dt>HTTP请求方式：</dt>
<dd><ul class="first last simple">
<li>POST</li>
</ul>
</dd>
<dt>请求参数：</dt>
<dd><ul class="first last simple">
<li>公共参数</li>
<li>domain_id 域名ID，必选</li>
<li>record_id 记录ID，必选</li>
</ul>
</dd>
<dt>响应代码：</dt>
<dd><ul class="first last simple">
<li>共通返回</li>
<li>-15 域名已被封禁</li>
<li>-7 企业账号的域名需要升级才能设置</li>
<li>-8 代理名下用户的域名需要升级才能设置</li>
<li>6 域名ID错误</li>
<li>7 不是域名所有者或没有权限</li>
<li>8 记录ID错误</li>
<li>21 域名被锁定</li>
</ul>
</dd>
</dl>
<p>示例:</p>
<div class="highlight-python"><div class="highlight"><pre>curl -X POST https://dnsapi.cn/Record.Remove -d &#39;login_email=api@dnspod.com&amp;login_password=password&amp;format=json&amp;domain_id=2317346&amp;record_id=16894439&#39;
</pre></div>
</div>
<p>返回参考：</p>
<blockquote>
<div><ul>
<li><p class="first">JSON:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span>
    <span class="s">&quot;status&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">&quot;code&quot;</span><span class="p">:</span><span class="s">&quot;1&quot;</span><span class="p">,</span>
        <span class="s">&quot;message&quot;</span><span class="p">:</span><span class="s">&quot;Action completed successful&quot;</span><span class="p">,</span>
        <span class="s">&quot;created_at&quot;</span><span class="p">:</span><span class="s">&quot;2015-01-18 16:58:07&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="dns">
<span id="record-ddns"></span><h2>更新动态DNS记录<a class="headerlink" href="#dns" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>接口地址：</dt>
<dd><ul class="first last simple">
<li>&nbsp;<a class="reference external" href="https://dnsapi.cn/Record.Ddns">https://dnsapi.cn/Record.Ddns</a></li>
</ul>
</dd>
<dt>HTTP请求方式：</dt>
<dd><ul class="first last simple">
<li>POST</li>
</ul>
</dd>
<dt>请求参数：</dt>
<dd><ul class="first last simple">
<li>公共参数</li>
<li>domain_id 域名ID，必选</li>
<li>record_id 记录ID，必选</li>
<li>sub_domain 主机记录，如 www</li>
<li>record_line 记录线路，通过API记录线路获得，中文，比如：默认，必选</li>
<li>value IP地址，例如：6.6.6.6，可选</li>
</ul>
</dd>
<dt>响应代码：</dt>
<dd><ul class="first last simple">
<li>共通返回</li>
<li>-15 域名已被封禁</li>
<li>-7 企业账号的域名需要升级才能设置</li>
<li>-8 代理名下用户的域名需要升级才能设置</li>
<li>6 域名ID错误</li>
<li>7 不是域名所有者或没有权限</li>
<li>8 记录ID错误</li>
<li>21 域名被锁定</li>
<li>22 子域名不合法</li>
<li>23 子域名级数超出限制，比如免费套餐域名不支持三级域名</li>
<li>24 泛解析子域名错误，比如免费套餐载名不支持 a*</li>
<li>25 轮循记录数量超出限制，比如免费套餐域名只能存在两条轮循记录</li>
<li>26 记录线路错误，比如免费套餐域名不支持移动、国外</li>
</ul>
</dd>
<dt>注意事项：</dt>
<dd><ul class="first last simple">
<li>如果1小时之内，提交了超过5次没有任何变动的记录修改请求，该记录会被系统锁定1小时，不允许再次修改，所以在开发和测试的过程中，请自行处理IP变动，仅在本地IP发生变动的情况下才调用本接口。</li>
<li>如何理解没有任何变动的记录修改请求？比如原记录值已经是 1.1.1.1，新的请求还要求修改为 1.1.1.1。</li>
</ul>
</dd>
</dl>
<p>示例:</p>
<div class="highlight-python"><div class="highlight"><pre>curl -X POST https://dnsapi.cn/Record.Ddns -d &#39;login_email=api@dnspod.com&amp;login_password=password&amp;format=json&amp;domain_id=2317346&amp;record_id=16894439&amp;record_line=默认&amp;sub_domain=www&#39;
</pre></div>
</div>
<p>返回参考：</p>
<blockquote>
<div><ul>
<li><p class="first">JSON:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span>
    <span class="s">&quot;status&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">&quot;code&quot;</span><span class="p">:</span><span class="s">&quot;1&quot;</span><span class="p">,</span>
        <span class="s">&quot;message&quot;</span><span class="p">:</span><span class="s">&quot;Action completed successful&quot;</span><span class="p">,</span>
        <span class="s">&quot;created_at&quot;</span><span class="p">:</span><span class="s">&quot;2015-01-18 17:23:58&quot;</span>
    <span class="p">},</span>
    <span class="s">&quot;record&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">&quot;id&quot;</span><span class="p">:</span><span class="mi">16909160</span><span class="p">,</span>
        <span class="s">&quot;name&quot;</span><span class="p">:</span><span class="s">&quot;@&quot;</span><span class="p">,</span>
        <span class="s">&quot;value&quot;</span><span class="p">:</span><span class="s">&quot;111.111.111.111&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><dl class="first docutils">
<dt>字段说明:</dt>
<dd><ul class="first last simple">
<li>id: 记录ID, 即为 record_id</li>
<li>name: 子域名</li>
<li>value&#8221;: 记录值</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="record-remark">
<span id="id6"></span><h2>设置记录备注<a class="headerlink" href="#record-remark" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>接口地址：</dt>
<dd><ul class="first last simple">
<li>&nbsp;<a class="reference external" href="https://dnsapi.cn/Record.Remark">https://dnsapi.cn/Record.Remark</a></li>
</ul>
</dd>
<dt>HTTP请求方式：</dt>
<dd><ul class="first last simple">
<li>POST</li>
</ul>
</dd>
<dt>请求参数：</dt>
<dd><ul class="first last simple">
<li>公共参数</li>
<li>domain_id 域名ID，必选</li>
<li>record_id 记录ID，必选</li>
<li>remark 域名备注，删除备注请提交空内容，必选</li>
</ul>
</dd>
<dt>响应代码：</dt>
<dd><ul class="first last simple">
<li>共通返回</li>
<li>6 域名ID错误</li>
<li>8 记录 ID 错误</li>
</ul>
</dd>
</dl>
<p>示例:</p>
<div class="highlight-python"><div class="highlight"><pre>curl -X POST https://dnsapi.cn/Record.Remark -d &#39;login_email=api@dnspod.com&amp;login_password=password&amp;format=json&amp;domain_id=2317346&amp;record_id=16894439&amp;remark=test&#39;
</pre></div>
</div>
<p>返回参考：</p>
<blockquote>
<div><ul>
<li><p class="first">JSON:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span>
    <span class="s">&quot;status&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">&quot;code&quot;</span><span class="p">:</span> <span class="s">&quot;1&quot;</span><span class="p">,</span>
        <span class="s">&quot;message&quot;</span><span class="p">:</span> <span class="s">&quot;Action completed successful&quot;</span><span class="p">,</span>
        <span class="s">&quot;created_at&quot;</span><span class="p">:</span> <span class="s">&quot;2015-01-18 17:32:23&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="record-info">
<span id="id7"></span><h2>获取记录信息<a class="headerlink" href="#record-info" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>接口地址：</dt>
<dd><ul class="first last simple">
<li>&nbsp;<a class="reference external" href="https://dnsapi.cn/Record.Info">https://dnsapi.cn/Record.Info</a></li>
</ul>
</dd>
<dt>HTTP请求方式：</dt>
<dd><ul class="first last simple">
<li>POST</li>
</ul>
</dd>
<dt>请求参数：</dt>
<dd><ul class="first last simple">
<li>公共参数</li>
<li>domain_id 域名ID，必选</li>
<li>record_id 记录ID，必选</li>
</ul>
</dd>
<dt>响应代码：</dt>
<dd><ul class="first last simple">
<li>共通返回</li>
<li>-15 域名已被封禁</li>
<li>-7 企业账号的域名需要升级才能设置</li>
<li>-8 代理名下用户的域名需要升级才能设置</li>
<li>6 域名ID错误</li>
<li>7 不是域名所有者或没有权限</li>
<li>8 记录ID错误</li>
</ul>
</dd>
</dl>
<p>示例:</p>
<div class="highlight-python"><div class="highlight"><pre>curl -X POST https://dnsapi.cn/Record.Info -d &#39;login_email=api@dnspod.com&amp;login_password=password&amp;format=json&amp;domain_id=2317346&amp;record_id=16894439&#39;
</pre></div>
</div>
<p>返回参考：</p>
<blockquote>
<div><ul>
<li><p class="first">JSON:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span>
    <span class="s">&quot;status&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">&quot;code&quot;</span><span class="p">:</span> <span class="s">&quot;1&quot;</span><span class="p">,</span>
        <span class="s">&quot;message&quot;</span><span class="p">:</span> <span class="s">&quot;Action completed successful&quot;</span><span class="p">,</span>
        <span class="s">&quot;created_at&quot;</span><span class="p">:</span> <span class="s">&quot;2015-01-18 17:36:10&quot;</span>
    <span class="p">},</span>
    <span class="s">&quot;domain&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">&quot;id&quot;</span><span class="p">:</span> <span class="mi">2317346</span><span class="p">,</span>
        <span class="s">&quot;domain&quot;</span><span class="p">:</span> <span class="s">&quot;testapi.com&quot;</span><span class="p">,</span>
        <span class="s">&quot;domain_grade&quot;</span><span class="p">:</span> <span class="s">&quot;D_Plus&quot;</span>
    <span class="p">},</span>
    <span class="s">&quot;record&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">&quot;id&quot;</span><span class="p">:</span> <span class="s">&quot;16909160&quot;</span><span class="p">,</span>
        <span class="s">&quot;sub_domain&quot;</span><span class="p">:</span> <span class="s">&quot;@&quot;</span><span class="p">,</span>
        <span class="s">&quot;record_type&quot;</span><span class="p">:</span> <span class="s">&quot;A&quot;</span><span class="p">,</span>
        <span class="s">&quot;record_line&quot;</span><span class="p">:</span> <span class="s">&quot;默认&quot;</span><span class="p">,</span>
        <span class="s">&quot;value&quot;</span><span class="p">:</span> <span class="s">&quot;111.111.111.111&quot;</span><span class="p">,</span>
        <span class="s">&quot;mx&quot;</span><span class="p">:</span> <span class="s">&quot;0&quot;</span><span class="p">,</span>
        <span class="s">&quot;ttl&quot;</span><span class="p">:</span> <span class="s">&quot;10&quot;</span><span class="p">,</span>
        <span class="s">&quot;enabled&quot;</span><span class="p">:</span> <span class="s">&quot;1&quot;</span><span class="p">,</span>
        <span class="s">&quot;monitor_status&quot;</span><span class="p">:</span> <span class="s">&quot;&quot;</span><span class="p">,</span>
        <span class="s">&quot;remark&quot;</span><span class="p">:</span> <span class="s">&quot;test&quot;</span><span class="p">,</span>
        <span class="s">&quot;updated_on&quot;</span><span class="p">:</span> <span class="s">&quot;2015-01-18 17:23:58&quot;</span><span class="p">,</span>
        <span class="s">&quot;domain_id&quot;</span><span class="p">:</span> <span class="s">&quot;2317346&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><dl class="first docutils">
<dt>字段说明:</dt>
<dd><ul class="first last">
<li><dl class="first docutils">
<dt>domain:</dt>
<dd><ul class="first last simple">
<li>id: 域名ID，即为 domain_id</li>
<li>domain: 域名</li>
<li>domain_grade: 域名等级，详见 Domain.List 或 Domain.Info 接口</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>record:</dt>
<dd><ul class="first last">
<li><p class="first">id: 记录ID编号</p>
</li>
<li><p class="first">sub_domain: 子域名(主机记录)</p>
</li>
<li><p class="first">record_type: 记录类型, 详见 Record.Type 接口</p>
</li>
<li><p class="first">record_line: 解析线路, 详见 Record.Line 接口</p>
</li>
<li><p class="first">value: 记录值</p>
</li>
<li><p class="first">mx: 记录的 MX 记录值, 非 MX 记录类型，默认为 0</p>
</li>
<li><p class="first">ttl: 记录的 TTL 值</p>
</li>
<li><dl class="first docutils">
<dt>enabled: 记录状态</dt>
<dd><ul class="first last simple">
<li>&#8220;0&#8221;: 禁用</li>
<li>&#8220;1&#8221;: 启用</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>monitor_status: 该记录的D监控状态</dt>
<dd><ul class="first last simple">
<li>&#8220;Ok&#8221;: 服务器正常</li>
<li>&#8220;Warn&#8221;: 该记录有报警, 服务器返回 4XX</li>
<li>&#8220;Down&#8221;: 服务器宕机</li>
<li>&#8220;&#8221;: 该记录未开启D监控</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">remark: 记录备注</p>
</li>
<li><p class="first">updated_on: 记录最后更新时间</p>
</li>
<li><p class="first">domain_id: 域名ID, 即为 domain_id</p>
</li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="record-status">
<span id="id8"></span><h2>设置记录状态<a class="headerlink" href="#record-status" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>接口地址：</dt>
<dd><ul class="first last simple">
<li>&nbsp;<a class="reference external" href="https://dnsapi.cn/Record.Status">https://dnsapi.cn/Record.Status</a></li>
</ul>
</dd>
<dt>HTTP请求方式：</dt>
<dd><ul class="first last simple">
<li>POST</li>
</ul>
</dd>
<dt>请求参数：</dt>
<dd><ul class="first last simple">
<li>公共参数</li>
<li>domain_id 域名ID，必选</li>
<li>record_id 记录ID，必选</li>
<li>status {enable|disable} 新的状态，必选</li>
</ul>
</dd>
<dt>响应代码：</dt>
<dd><ul class="first last simple">
<li>共通返回</li>
<li>-15 域名已被封禁</li>
<li>-7 企业账号的域名需要升级才能设置</li>
<li>-8 代理名下用户的域名需要升级才能设置</li>
<li>6 域名ID错误</li>
<li>7 不是域名所有者或没有权限</li>
<li>8 记录ID错误</li>
<li>21 域名被锁定</li>
</ul>
</dd>
</dl>
<p>示例:</p>
<div class="highlight-python"><div class="highlight"><pre>curl -X POST https://dnsapi.cn/Record.Status -d &#39;login_email=api@dnspod.com&amp;login_password=password&amp;format=json&amp;domain_id=2317346&amp;record_id=16894439&amp;status=disable&#39;
</pre></div>
</div>
<p>返回参考：</p>
<blockquote>
<div><ul>
<li><p class="first">JSON:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span>
    <span class="s">&quot;status&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">&quot;code&quot;</span><span class="p">:</span> <span class="s">&quot;1&quot;</span><span class="p">,</span>
        <span class="s">&quot;message&quot;</span><span class="p">:</span> <span class="s">&quot;Action completed successful&quot;</span><span class="p">,</span>
        <span class="s">&quot;created_at&quot;</span><span class="p">:</span> <span class="s">&quot;2015-01-18 20:07:29&quot;</span>
    <span class="p">},</span>
    <span class="s">&quot;record&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">&quot;id&quot;</span><span class="p">:</span> <span class="mi">16909160</span><span class="p">,</span>
        <span class="s">&quot;name&quot;</span><span class="p">:</span> <span class="s">&quot;@&quot;</span><span class="p">,</span>
        <span class="s">&quot;status&quot;</span><span class="p">:</span> <span class="s">&quot;disable&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><dl class="first docutils">
<dt>字段说明:</dt>
<dd><ul class="first last simple">
<li>id: 记录ID, 即为 record_id</li>
<li>name: 子域名</li>
<li>status: 记录状态</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">记录相关</a><ul>
<li><a class="reference internal" href="#record-create">添加记录</a></li>
<li><a class="reference internal" href="#record-list">记录列表</a></li>
<li><a class="reference internal" href="#record-modify">修改记录</a></li>
<li><a class="reference internal" href="#record-remove">删除记录</a></li>
<li><a class="reference internal" href="#dns">更新动态DNS记录</a></li>
<li><a class="reference internal" href="#record-remark">设置记录备注</a></li>
<li><a class="reference internal" href="#record-info">获取记录信息</a></li>
<li><a class="reference internal" href="#record-status">设置记录状态</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="domains.html"
                        title="previous chapter">域名相关</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="d-monitor.html"
                        title="next chapter">D监控相关</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/records.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
        &copy; Copyright DNSPod Inc.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>